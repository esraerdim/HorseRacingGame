import{d as f,b as u,_ as y,e as c,o as s,a as r,t as d,F as v,g as $,q as k,u as b,p as R,y as x,C as P,c as h,w,l as C,s as g}from"./index-Org9lGqP.js";/* empty css                                                                        *//* empty css                                                                  */import{A as S}from"./AppEmptyState-CpO5RhTo.js";/* empty css                                                                 *//* empty css                                                                         *//* empty css                                                                  */const q=f({name:"ProgramRoundCard",props:{index:{type:[Number,String],required:!0},title:{type:String,required:!0},distance:{type:Number,required:!0},horses:{type:Array,default:()=>[]},active:{type:Boolean,default:!1}},setup(t){return{countLabel:u(()=>`${t.horses.length} horses`)}}}),B={class:"program-round-card__header"},I={class:"program-round-card__index"},N={class:"program-round-card__details"},A={class:"program-round-card__count"},E={class:"program-round-card__horse-list"};function V(t,l,i,m,_,p){return s(),c("li",{class:k(["program-round-card",{"program-round-card--active":t.active}])},[r("header",B,[r("span",I,d(t.index),1),r("div",N,[r("h3",null,d(t.title),1),r("span",null,d(t.distance)+" m",1)]),r("span",A,d(t.countLabel),1)]),r("ul",E,[(s(!0),c(v,null,$(t.horses,n=>(s(),c("li",{key:n,class:"program-round-card__horse"},d(n),1))),128))])],2)}const F=y(q,[["render",V],["__scopeId","data-v-841d107b"]]),T={class:"program-panel"},z={class:"program-panel__header"},D={class:"program-panel__meta"},G=f({__name:"ProgramPanel",setup(t){const l=b(),i=R(null),m=e=>{const a=e%100;if(a>=11&&a<=13)return`${e}th Lap`;switch(e%10){case 1:return`${e}st Lap`;case 2:return`${e}nd Lap`;case 3:return`${e}rd Lap`;default:return`${e}th Lap`}},_=u(()=>{const e=new Map;return l.state.horses.pool.forEach(a=>e.set(a.id,a)),e}),p=u(()=>l.state.race.currentRoundIndex),n=u(()=>l.state.race.schedule.map(e=>({...e,horseNames:e.horseIds.map(a=>_.value.get(a)?.name??`Horse ${a}`)}))),L=e=>e===p.value+1;return x(p,async e=>{await P(),i.value?.querySelector(`[data-round="${e+1}"]`)?.scrollIntoView({behavior:"smooth",block:"nearest"})}),(e,a)=>(s(),c("section",T,[r("header",z,[a[0]||(a[0]=r("h2",null,"Race Program",-1)),r("span",D,d(n.value.length)+" rounds scheduled ",1)]),n.value.length?(s(),c("ul",{key:1,ref_key:"roundsList",ref:i,class:"program-panel__rounds"},[(s(!0),c(v,null,$(n.value,o=>(s(),h(g(F),{key:o.roundNumber,"data-round":o.roundNumber,index:o.roundNumber,title:m(o.roundNumber),distance:o.distance,horses:o.horseNames,active:L(o.roundNumber)},null,8,["data-round","index","title","distance","horses","active"]))),128))],512)):(s(),h(g(S),{key:0},{default:w(()=>[...a[1]||(a[1]=[C(" Program is empty. Generate a roster to build the race schedule. ",-1)])]),_:1}))]))}}),U=y(G,[["__scopeId","data-v-edd5f0a6"]]);export{U as default};
